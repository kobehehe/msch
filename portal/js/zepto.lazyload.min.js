!function(){function o(){var i=document.body.getBoundingClientRect().top,r=u-i,t;n.length<10?n.push(r):(n.shift(),n.push(r));t=0;n.forEach(function(n){t+=n});f=Math.abs(t/n.length);u=i}function e(){t!=i&&(r++,r==5&&($(window).trigger("scrollEnd"),t=i));requestAnimationFrame(e)}window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){setTimeout(n,1e3/60)}}();var t=0,i=0,r=0,u=document.body.getBoundingClientRect().top,n=[],f=0;window.requestAnimationFrame(e);window.addEventListener("scroll",function(){o();i=t;r=0;t++});judgeHidden=function(n){return $(n).is(":hidden")?!0:$(n).parents().is(":hidden")?!0:!1};$.fn.lazyload=function(){if(this.length==0)return!1;var t=this;t.each(function(t,i){if(!judgeHidden(i)){i.style.opacity=0;var u=function(){var t=i.getBoundingClientRect();t.bottom>=0&&t.top<=window.screen.height&&(i.src=r,i.addEventListener("load",s),window.removeEventListener("scrollEnd",u),window.removeEventListener("scroll",o),n=[])},o=function(){f>10||u()},e=function(){u();i.removeEventListener("load",e);window.addEventListener("scrollEnd",u);window.addEventListener("scroll",o)},s=function(){i.style.opacity=1;i.style.transition="opacity .3s";i.style.webkitTransition="opacity .3s";i.removeEventListener("load",s)},r=$(i).data("lazyload");if($.lazyload&&$.lazyload.apapterList&&$.lazyload.apapterList.forEach(function(n){if(n.id==$(i).data("lazyload-adapter")){var t=n.rule;n.matches.forEach(function(n){var f=document.documentElement.clientWidth,u,e;f>n.range.start&&f<=n.range.end&&t.regex.test(r)&&($(i).data("lazyload-adapter","null"),u=r.match(t.regex)[0],e=u.replace(RegExp[t.pos],t.prefix?t.prefix+n.resolution:n.resolution),r=r.replace(u,e))})}}),$(i).removeAttr("data-lazyload"),i.src==r)return i.style.opacity=1,!1;i.src?e():i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";i.addEventListener("load",e)}})};$(function(){setInterval(function(){$("[data-lazyload]").lazyload()},500)})}();